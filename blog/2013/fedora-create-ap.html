<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="description" content="API documentation generator for PHP 5.3+" />
    <meta name="keywords" content="framework, php, web, development" />
    <link href="http://toknot.com/style.css" type="text/css" rel="stylesheet" />
    <script src="http://toknot.com/showdown.js" type="text/javascript"></script>
    <title>Fedora 18创建 AP 模式热点方法 - Szopen Blog - Toknot Framework</title>
</head>
<body>
    <header>
        <h1><a href="http://toknot.com/blog">Szopen Blog</a></h1>
    </header>
    <nav>
        <ul>
            <li><a href="#overview">Overview</a></li>
            <li><a href="#features">Features</a></li>
            <li><a href="#usage">Usage</a></li>
            <li><a href="#requirements">Requirements</a></li>
            <li><a href="http://toknot.com/LICENSE.txt">License</a></li>
            <li><a href="http://toknot.com/toknot">Documentation</a></li>
            <li class="active"><a href="http://toknot.com/blog">Blog</a></li>
<!--

-->
        </ul>
    </nav>
 <section>
        <h2>Fedora 18创建 AP 模式热点方法</h2>
        <div id="content">
1. 安装hostapd, yum安装即可
2. 配置hostapd,编辑/etc/hostapd/hostapd.conf,如下

```conf
ctrl_interface=/var/run/hostapd
ctrl_interface_group=wheel

# Some usable default settings...
macaddr_acl=0
auth_algs=1
ignore_broadcast_ssid=0

# Uncomment these for base WPA & WPA2 support with a pre-shared key
wpa=3
wpa_key_mgmt=WPA-PSK
wpa_pairwise=CCMP
rsn_pairwise=CCMP

# DO NOT FORGET TO SET A WPA PASSPHRASE!!
wpa_passphrase=12345678

# Most modern wireless drivers in the kernel need driver=nl80211
driver=nl80211

# Customize these for your local configuration...
interface=wlan0
hw_mode=g
channel=7
ssid=MyAP
```

3. 取消NetworkManager对WiFi的托管，否则hostapd无法启动网卡，取消方法见https://wiki.archlinux.org/index.php/Software_Access_Point#NetworkManager_is_interfering
4. 打开防火墙配置，命令为firewall-config， 开启 伪装(Masquerading)
5. 将无线网卡ip配置成网关ip,比如`ifconfig wlan0 192.168.1.1`
6. 设置需要连接该热点的设备为静态IP，比如 192.168.1.2
7. 可以安装DHCP服务器实现动态获取IP，方法见google
8. 然后systemctl enable hostapd
9, 在/etc/rc.d/rc.local(没有创建，并设置为可执行)中添加命令 `ifconfig wlan0 192.168.1.1` 实现开机启动

        </div>
        <script type="text/javascript">
            var converter = new Showdown.converter();
            var text = document.getElementById('content').innerHTML;
            document.getElementById('content').innerHTML = converter.makeHtml(text);
        </script>
    </section>
        <footer>
        <p>
            Copyright © 2010–2013 Szopen Xiao All rights reserved.
        </p>
    </footer>
</body>
</html>