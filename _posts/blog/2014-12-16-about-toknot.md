---
layout: blog_contents
title: ToKnot 框架说明
categories: blog
---

###主要应用场景  
  ToKnot框架主要应用于开发Web应用。通过框架提供的工具能构快速构建一个web应用，应用初始化工具能创建应用所需要的目录，并初始化部分常用代码。框架原生支持 REST API的开发，由于ToKnot在用户业务逻辑部分自动分离了HTTP协议请求方法，所以对于相同URI请求，开发者只需要简单创建对应方法的类方法即可。

###开发模式
  ToKnot框架采用框架驱动模式，对于Web请求，框架会根据规则自动调用相关业务模块，并运行。此模式类似MVC开发模式。

###路由器
  框架支持三种路由规则，包括HTTP参数模式，URL路径模式以及自定义规则。在HTTP参数模式中，框架默认路由控制器会提起第一个GET参数的KEY值信息来作为调用路径，按规则调用应用的业务类，并分离到HTTP请求方法对于的类方法上去。URL路径模式与HTTP参数模式类似，调用路径为URL中的路径，此方法需要WEB服务器的支持。自定义模式为用户自定义URI来映射业务类，并且支持正则匹配。下面是运行逻辑：
![router-process](http://toknot.com/download/toknot-router-process.png)
    

###应用的业务类
  ToKnot框架对业务类制定了简单的规则，包括：必须实现对应的HTTP请求方法，至少实现了GET方法，必须使用命名空间。对于类命名规则，其他方法的命名规则，以及必须继承的类等等并没有强制限制。但是通过框架工具初始化的应用会默认继承来自框架的用户访问控制器，由于该控制器继承了框架`Object`基本对象，会引入框架的伪多重继承特性，导致业务类不能直接定义构造函数，而是使用`__init`来代替。
  业务类使用数据库，模板，配置相关功能时通常建议通过`FMAI`对象来进行访问，该对象是以单例模式存在的，所以在任何时候通过`FMAI::getInstance()`方法即可获得对象实例，并方法相关方法。在业务类中，框架会在类实例化时，将`FMAI`实例作为类初始化的第一个参数传给业务对象，而伪多重继承时，使用`$this`指针即可访问`FMAI`的公共方法。
