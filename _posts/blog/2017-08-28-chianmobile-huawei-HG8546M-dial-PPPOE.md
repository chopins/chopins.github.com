---
layout: blog_contents
title: 移动宽带华为 HG8546M 开启自动拨号功能
categories: blog
---

按装宽带时，移动宽带提供了一个华为 HG8546M 光猫一体路由器，但是默认只能当成一个光猫使用，无法使用其路由器功能，也不能自动拨号。

为了利用其路由以及拨号功能，需要进行以下步骤进行操作：

1. 登入路由器WEB管理界面，地址是 `192.168.100.1` 。首先电脑需要直连华为的这款一体猫，并手动配置电脑IP为 `192.168.100.2`，也就是位于同一个网段内。
2. 路由器背面的提供的账户为普通账户，需要使用超级账户登录，超级账户用户名是：`telecomadmin` ，密码是：`admintelecom`
3. 用户超级账户等入WEB管理界面，点击 __系统工具__ 页面,再点击 __配置文件__ 页面，然后点击左边的 __下载配置文件__ 
4. 然后用文本编辑器打开下载的文件，找到`TELNETLanEnable="0"`，改成`TELNETLanEnable="1"`,找到`TELNETWanEnable="0"`改成`TELNETWanEnable="1"`，然后保存
5. 还是在上面提到的__配置文件__页面，找到__更新配置文件__项，点击__浏览__按钮，选择刚才编辑后的文件，然后点击__更新配置文件__按钮。
6. 经过上面的步骤，配置文件更新成功
7. 使用电脑宽带拨号，让电脑处于联网状态，以下操作时，也需要保持联网状态。
8. 使用电脑的`telnet`工具登入一体猫，地址是`192.168.100.1`。
9. windows 使用方法时，以管理员身份运行`cmd.exe`命令，然后在命令行中运行`telnet 192.168.100.1` 。如果系统提示没有该命令，请通过 windows 的`添加程序和功能`将`telnet`添加。
10. `telnet 192.168.100.1`命令执行后（输入命令，然后回车，即可执行输入命令），依次输入用户名:`root`，然后按回车键，,密码:`admin`，然后按回车建,登入成功后，输入`display flow id all`，然后回车。
11. 上一步的最后命令会显示一个结果列表，列表中的`Vlan`列请记录下，该列每一行数据就是以后将要用到的`VLAN ID`,另外需要注意，列表可能会因为显示宽度问题而换行。这个表的数据类似下面:
    
   Instance  Gemportid  FlowType  BridgeID   Vlan   Pri  Status  PhyPort  UserFlowid  Trans  Pir  Sir
   0         129        1         1          101    255  1       255      0           2      0    0
   1         193        1         1          4094   255  1       255      1           2      0    0
   2         257        1         1          103    255  1       255      3           2      0    0
   .............
   .............

12. 进入一体猫的WEB管理界面，点击`LAN`页面，勾选所有网卡接口，也就是`LAN1`、`LAN2`、`LAN3`、`LAN4`
13. 进入`WAN`页面，新建一个连接。__封装类型__勾选`PPPOE`,__服务类型__选择`INTERNET`,`使能VLAN`打钩,`VLAN ID`填写上面第11部的`Vlan`列的值。如果不正确，就改成其他行的值。
14. __用户名__、__密码__项填写移动提供的账户和密码
15. __绑定项__勾选LAN1、2、3、4，以及SSID1
16. 点击__应用__按钮，一体猫将会自动进行PPPOE拨号，并且可以使用其路由器功能
